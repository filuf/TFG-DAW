---
import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();
const products = await prisma.products.findMany(); //trae todos los productos de la tabla productos
---

<h1>¿Que te apetece tomar hoy?</h1>

<section class="products-container">

    { products.map( product => (
            <article class="product">
                <a href={"/products/" + product.product_name + "-" + product.id_product}>
                    <div class="image-container">
                        <img src="" alt="imagen producto">
                    </div>
                
                    <p class="product-name">{product.product_name}</p>
                    <p class="product-price">{product.product_price.toFixed(2)} €</p>
                </a>
            </article>
    ))}

</section>


<style>
    .products-container {
        box-sizing: border-box;
        width: 100%;
        border: 1px solid green;

        display: grid;
        grid-template-columns: repeat(
            auto-fit,
            minmax(
                min(150px, 100%),
                1fr
            )
        );
        gap: 16px;
        padding-left: 50px;
        padding-right: 50px;

        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }

    .product {
        max-width: 200px;
        height: 300px;
        padding: 10px;
        border: 1px solid black;
        border-radius: 10px;

        display: flex;
        flex-direction: column;
        align-items: center;

        cursor: pointer;
    }

    a {
        color: inherit;
        text-decoration: none;
    }

    .image-container {
        border: 1px solid black;
        border-radius: 10px;
        min-height: 150px;
        min width: 100px;
    }
</style>